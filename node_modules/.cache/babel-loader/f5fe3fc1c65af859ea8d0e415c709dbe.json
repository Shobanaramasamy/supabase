{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mako/Downloads/todo_supabase/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mako/Downloads/todo_supabase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mako/Downloads/todo_supabase/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Flex,Button,useToast}from'@chakra-ui/react';import{useState}from'react';import supabase from'../supabase';import{jsx as _jsx}from\"react/jsx-runtime\";export default function ClearTasks(){var toast=useToast();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];function handleDelete(){return _handleDelete.apply(this,arguments);}function _handleDelete(){_handleDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$supabase$from$,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(window.confirm('Are you sure you want to clear all tasks?')){_context.next=2;break;}return _context.abrupt(\"return\");case 2:setLoading(true);_context.next=5;return supabase.from('todos').delete().not('text','eq','Do not delete me');case 5:_yield$supabase$from$=_context.sent;data=_yield$supabase$from$.data;error=_yield$supabase$from$.error;setLoading(false);toast({title:error||'Tasks cleared!',position:'top',status:error?'error':'success',duration:2000,isClosable:true});case 10:case\"end\":return _context.stop();}}},_callee);}));return _handleDelete.apply(this,arguments);}return/*#__PURE__*/_jsx(Flex,{children:/*#__PURE__*/_jsx(Button,{colorScheme:\"gray\",px:\"8\",h:\"45\",color:\"gray.500\",mt:\"10\",onClick:handleDelete,isLoading:loading,loadingText:\"Clearing tasks\",children:\"Clear Tasks\"})});}","map":{"version":3,"names":["Flex","Button","useToast","useState","supabase","jsx","_jsx","ClearTasks","toast","_useState","_useState2","_slicedToArray","loading","setLoading","handleDelete","_handleDelete","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$supabase$from$","data","error","wrap","_callee$","_context","prev","next","window","confirm","abrupt","from","delete","not","sent","title","position","status","duration","isClosable","stop","children","colorScheme","px","h","color","mt","onClick","isLoading","loadingText"],"sources":["/Users/mako/Downloads/todo_supabase/src/components/ClearTasks.js"],"sourcesContent":["import { Flex, Button, useToast } from '@chakra-ui/react';\nimport { useState } from 'react';\nimport supabase from '../supabase';\n\nexport default function ClearTasks() {\n  const toast = useToast();\n  const [loading, setLoading] = useState(false);\n\n  async function handleDelete() {\n    if (!window.confirm('Are you sure you want to clear all tasks?')) return;\n\n    setLoading(true);\n    const { data, error } = await supabase\n      .from('todos')\n      .delete()\n      .not('text', 'eq', 'Do not delete me');\n    setLoading(false);\n\n    toast({\n      title: error || 'Tasks cleared!',\n      position: 'top',\n      status: error ? 'error' : 'success',\n      duration: 2000,\n      isClosable: true,\n    });\n  }\n\n  return (\n    <Flex>\n      <Button\n        colorScheme=\"gray\"\n        px=\"8\"\n        h=\"45\"\n        color=\"gray.500\"\n        mt=\"10\"\n        onClick={handleDelete}\n        isLoading={loading}\n        loadingText=\"Clearing tasks\"\n      >\n        Clear Tasks\n      </Button>\n    </Flex>\n  );\n}\n"],"mappings":"2XAAA,OAASA,IAAI,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,kBAAkB,CACzD,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnC,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,GAAM,CAAAC,KAAK,CAAGN,QAAQ,CAAC,CAAC,CACxB,IAAAO,SAAA,CAA8BN,QAAQ,CAAC,KAAK,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAAoB,QAE/B,CAAAI,YAAYA,CAAA,SAAAC,aAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,cAAA,EAAAA,aAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAC,QAAA,MAAAC,qBAAA,CAAAC,IAAA,CAAAC,KAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,YACOC,MAAM,CAACC,OAAO,CAAC,2CAA2C,CAAC,EAAAJ,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAK,MAAA,kBAEhEnB,UAAU,CAAC,IAAI,CAAC,CAACc,QAAA,CAAAE,IAAA,SACa,CAAAzB,QAAQ,CACnC6B,IAAI,CAAC,OAAO,CAAC,CACbC,MAAM,CAAC,CAAC,CACRC,GAAG,CAAC,MAAM,CAAE,IAAI,CAAE,kBAAkB,CAAC,QAAAb,qBAAA,CAAAK,QAAA,CAAAS,IAAA,CAHhCb,IAAI,CAAAD,qBAAA,CAAJC,IAAI,CAAEC,KAAK,CAAAF,qBAAA,CAALE,KAAK,CAInBX,UAAU,CAAC,KAAK,CAAC,CAEjBL,KAAK,CAAC,CACJ6B,KAAK,CAAEb,KAAK,EAAI,gBAAgB,CAChCc,QAAQ,CAAE,KAAK,CACfC,MAAM,CAAEf,KAAK,CAAG,OAAO,CAAG,SAAS,CACnCgB,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,IACd,CAAC,CAAC,CAAC,yBAAAd,QAAA,CAAAe,IAAA,OAAArB,OAAA,GACJ,UAAAN,aAAA,CAAAC,KAAA,MAAAC,SAAA,GAED,mBACEX,IAAA,CAACN,IAAI,EAAA2C,QAAA,cACHrC,IAAA,CAACL,MAAM,EACL2C,WAAW,CAAC,MAAM,CAClBC,EAAE,CAAC,GAAG,CACNC,CAAC,CAAC,IAAI,CACNC,KAAK,CAAC,UAAU,CAChBC,EAAE,CAAC,IAAI,CACPC,OAAO,CAAEnC,YAAa,CACtBoC,SAAS,CAAEtC,OAAQ,CACnBuC,WAAW,CAAC,gBAAgB,CAAAR,QAAA,CAC7B,aAED,CAAQ,CAAC,CACL,CAAC,CAEX"},"metadata":{},"sourceType":"module"}