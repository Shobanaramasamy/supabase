{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mako/Downloads/todo_supabase/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mako/Downloads/todo_supabase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mako/Downloads/todo_supabase/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{IconButton,useToast}from'@chakra-ui/react';import{useState}from'react';import{FiTrash2}from'react-icons/fi';import supabase from'../supabase';import{jsx as _jsx}from\"react/jsx-runtime\";export default function DeleteTask(_ref){var id=_ref.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var toast=useToast();function handleDelete(){return _handleDelete.apply(this,arguments);}function _handleDelete(){_handleDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$supabase$from$,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return supabase.from('todos').delete().eq('id',id);case 3:_yield$supabase$from$=_context.sent;data=_yield$supabase$from$.data;error=_yield$supabase$from$.error;setLoading(false);toast({title:error||'Task deleted!',position:'top',status:error?'error':'success',duration:2000,isClosable:true});case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleDelete.apply(this,arguments);}return/*#__PURE__*/_jsx(IconButton,{isRound:\"true\",icon:/*#__PURE__*/_jsx(FiTrash2,{}),onClick:handleDelete,isLoading:loading});}","map":{"version":3,"names":["IconButton","useToast","useState","FiTrash2","supabase","jsx","_jsx","DeleteTask","_ref","id","_useState","_useState2","_slicedToArray","loading","setLoading","toast","handleDelete","_handleDelete","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$supabase$from$","data","error","wrap","_callee$","_context","prev","next","from","delete","eq","sent","title","position","status","duration","isClosable","stop","isRound","icon","onClick","isLoading"],"sources":["/Users/mako/Downloads/todo_supabase/src/components/DeleteTask.js"],"sourcesContent":["import { IconButton, useToast } from '@chakra-ui/react';\nimport { useState } from 'react';\nimport { FiTrash2 } from 'react-icons/fi';\nimport supabase from '../supabase';\n\nexport default function DeleteTask({ id }) {\n  const [loading, setLoading] = useState(false);\n  const toast = useToast();\n\n  async function handleDelete() {\n    setLoading(true);\n    const { data, error } = await supabase.from('todos').delete().eq('id', id);\n    setLoading(false);\n\n    toast({\n      title: error || 'Task deleted!',\n      position: 'top',\n      status: error ? 'error' : 'success',\n      duration: 2000,\n      isClosable: true,\n    });\n  }\n\n  return (\n    <IconButton\n      isRound=\"true\"\n      icon={<FiTrash2 />}\n      onClick={handleDelete}\n      isLoading={loading}\n    />\n  );\n}\n"],"mappings":"2XAAA,OAASA,UAAU,CAAEC,QAAQ,KAAQ,kBAAkB,CACvD,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,QAAQ,KAAQ,gBAAgB,CACzC,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnC,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAS,IAAN,CAAAC,EAAE,CAAAD,IAAA,CAAFC,EAAE,CACrC,IAAAC,SAAA,CAA8BR,QAAQ,CAAC,KAAK,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,GAAM,CAAAI,KAAK,CAAGd,QAAQ,CAAC,CAAC,CAAC,QAEV,CAAAe,YAAYA,CAAA,SAAAC,aAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,cAAA,EAAAA,aAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAC,QAAA,MAAAC,qBAAA,CAAAC,IAAA,CAAAC,KAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACEjB,UAAU,CAAC,IAAI,CAAC,CAACe,QAAA,CAAAE,IAAA,SACa,CAAA3B,QAAQ,CAAC4B,IAAI,CAAC,OAAO,CAAC,CAACC,MAAM,CAAC,CAAC,CAACC,EAAE,CAAC,IAAI,CAAEzB,EAAE,CAAC,QAAAe,qBAAA,CAAAK,QAAA,CAAAM,IAAA,CAAlEV,IAAI,CAAAD,qBAAA,CAAJC,IAAI,CAAEC,KAAK,CAAAF,qBAAA,CAALE,KAAK,CACnBZ,UAAU,CAAC,KAAK,CAAC,CAEjBC,KAAK,CAAC,CACJqB,KAAK,CAAEV,KAAK,EAAI,eAAe,CAC/BW,QAAQ,CAAE,KAAK,CACfC,MAAM,CAAEZ,KAAK,CAAG,OAAO,CAAG,SAAS,CACnCa,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,IACd,CAAC,CAAC,CAAC,wBAAAX,QAAA,CAAAY,IAAA,OAAAlB,OAAA,GACJ,UAAAN,aAAA,CAAAC,KAAA,MAAAC,SAAA,GAED,mBACEb,IAAA,CAACN,UAAU,EACT0C,OAAO,CAAC,MAAM,CACdC,IAAI,cAAErC,IAAA,CAACH,QAAQ,GAAE,CAAE,CACnByC,OAAO,CAAE5B,YAAa,CACtB6B,SAAS,CAAEhC,OAAQ,CACpB,CAAC,CAEN"},"metadata":{},"sourceType":"module"}